name: Test Variables Environnement

on: [workflow_dispatch]

jobs:
  check-env:
    runs-on: ubuntu-latest
    
    env:
      YOUR_SECRET_EMAIL: ${{ secrets.YOUR_SECRET_EMAIL }}
      YOUR_SECRET_PASSWORD: ${{ secrets.YOUR_SECRET_PASSWORD }}
      YOUR_SECRET_LOGON_URL: ${{ secrets.YOUR_SECRET_LOGON_URL }}
      YOUR_SECRET_PLANNING_URL: ${{ secrets.YOUR_SECRET_PLANNING_URL }}
      YOUR_SECRET_LOGIN_URL: ${{ secrets.YOUR_SECRET_LOGIN_URL }}
      YOUR_SECRET_My_NAME: ${{ secrets.YOUR_SECRET_My_NAME }}
    
    steps:
      - name: Check Environment Variables
        run: |
          echo "=== Vérification des variables d'environnement ==="
          echo "EMAIL défini: $([ -n "$YOUR_SECRET_EMAIL" ] && echo 'OUI' || echo 'NON')"
          echo "PASSWORD défini: $([ -n "$YOUR_SECRET_PASSWORD" ] && echo 'OUI' || echo 'NON')"
          echo "LOGON_URL défini: $([ -n "$YOUR_SECRET_LOGON_URL" ] && echo 'OUI' || echo 'NON')"
          echo "PLANNING_URL défini: $([ -n "$YOUR_SECRET_PLANNING_URL" ] && echo 'OUI' || echo 'NON')"
          echo "LOGIN_URL défini: $([ -n "$YOUR_SECRET_LOGIN_URL" ] && echo 'OUI' || echo 'NON')"
          echo "MY_NAME défini: $([ -n "$YOUR_SECRET_My_NAME" ] && echo 'OUI' || echo 'NON')"
          echo ""
          echo "=== Longueur des variables (pour vérifier sans révéler) ==="
          echo "EMAIL longueur: ${#YOUR_SECRET_EMAIL}"
          echo "PASSWORD longueur: ${#YOUR_SECRET_PASSWORD}"
          echo "LOGON_URL longueur: ${#YOUR_SECRET_LOGON_URL}"
          echo "PLANNING_URL longueur: ${#YOUR_SECRET_PLANNING_URL}"
          echo "LOGIN_URL longueur: ${#YOUR_SECRET_LOGIN_URL}"
          echo "MY_NAME longueur: ${#YOUR_SECRET_My_NAME}"
          echo ""
          echo "=== Test complet ==="
          if [ -n "$YOUR_SECRET_EMAIL" ] && [ -n "$YOUR_SECRET_PASSWORD" ] && [ -n "$YOUR_SECRET_LOGON_URL" ] && [ -n "$YOUR_SECRET_PLANNING_URL" ] && [ -n "$YOUR_SECRET_LOGIN_URL" ] && [ -n "$YOUR_SECRET_My_NAME" ]; then
            echo "✅ SUCCÈS: Toutes les variables sont définies!"
          else
            echo "❌ ERREUR: Il manque des variables!"
            exit 1
          fi